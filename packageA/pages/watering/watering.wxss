/**watering.wxss**/

/* 重要：根级样式，覆盖整个页面 */
page {
  background-color: #ffffff;
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  will-change: transform;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* 页面容器 - 使用fixed定位覆盖整个屏幕 */
.page-container {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 99999; /* 极高的z-index */
  background-color: #fff;
  overflow: hidden;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  -webkit-transform: translateZ(0);
  will-change: transform;
  transition: background-color 0.6s ease-in-out;
}

/* 全屏遮罩 - 确保覆盖整个屏幕 */
.full-screen-mask {
  position: fixed;
  top: -100px; /* 扩展边界，确保完全覆盖 */
  left: -100px;
  right: -100px;
  bottom: -100px;
  background-color: #fff;
  z-index: 1;
  transition: background-color 0.6s ease-in-out;
}

/* 树木容器 */
.tree-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 5;
  overflow: hidden;
  transition: opacity 0.5s ease-in-out;
}

/* 树木图片 - 全屏显示 */
.tree-image-fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  z-index: 5;
  object-fit: cover;
  transition: opacity 0.4s ease-in-out;
  opacity: 1;
  will-change: transform, opacity;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

/* 图片切换效果 */
.tree-image-fullscreen.transitioning,
.tree-image-fullscreen.loading {
  opacity: 0;
}

/* 预加载图片 */
.tree-image-preload {
  position: fixed;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  z-index: 2;
  opacity: 0;
  object-fit: cover;
}

/* 新增：升级GIF层样式 */
.tree-image-upgrade {
  position: fixed;
  top: 0;
  left: 0;
  width: 100% !important;
  height: 100% !important;
  z-index: 10; /* 确保在静态图片上层 */
  object-fit: cover;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

/* 新增：升级GIF激活状态 */
.tree-image-upgrade.active {
  opacity: 1;
}

.tree-image-upgrade.inactive {
  opacity: 0;
}

/* 浇水动画容器 */
.watering-animation {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 50;
  overflow: hidden;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease-in-out, visibility 0.4s ease-in-out;
}

.watering-animation.active {
  opacity: 1;
  visibility: visible;
}

/* 新增浇水GIF样式 */
.watering-gif {
  position: absolute;
  width: 200rpx; /* 调整大小适合显示 */
  z-index: 100;
  top: 75%; /* 调整到页面3/4位置 */
  left: 53%;
  transform: translate(-50%, -50%);
  opacity: 1;
  transition: opacity 0.4s ease-in-out;
}

/* 水滴容器 */
.water-drop-container {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  overflow: hidden;
}

/* 水滴区域定义 */
.left-area {
  left: 20% !important;
  margin-left: -30rpx;
}

.center-area {
  left: 50% !important;
  margin-left: -15rpx;
}

.right-area {
  left: 80% !important;
  margin-left: -30rpx;
}

/* 水滴样式 */
.water-drop {
  position: absolute;
  width: 28rpx;
  height: 42rpx;
  background-color: rgba(30, 144, 255, 0.9);
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  top: -50rpx;
  opacity: 0;
  box-shadow: 0 0 15rpx rgba(30, 144, 255, 0.7);
  animation: none; /* 初始状态不应用动画 */
  will-change: transform, opacity;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

/* 控制水滴动画的状态 */
.watering-animation.playing .water-drop {
  animation: none; /* 先清除动画 */
}

/* 为每个水滴设置不同的动画 */
.watering-animation.playing .drop1 { animation: dropFall1 3s ease-in forwards; }
.watering-animation.playing .drop2 { animation: dropFall2 3.2s ease-in forwards; }
.watering-animation.playing .drop3 { animation: dropFall3 2.8s ease-in forwards; }
.watering-animation.playing .drop4 { animation: dropFall4 3.1s ease-in forwards; }
.watering-animation.playing .drop5 { animation: dropFall5 2.9s ease-in forwards; }
.watering-animation.playing .drop6 { animation: dropFall6 3.3s ease-in forwards; }
.watering-animation.playing .drop7 { animation: dropFall7 2.7s ease-in forwards; }
.watering-animation.playing .drop8 { animation: dropFall8 3.0s ease-in forwards; }
.watering-animation.playing .drop9 { animation: dropFall9 3.2s ease-in forwards; }
.watering-animation.playing .drop10 { animation: dropFall10 2.8s ease-in forwards; }
.watering-animation.playing .drop11 { animation: dropFall11 3.1s ease-in forwards; }
.watering-animation.playing .drop12 { animation: dropFall12 2.9s ease-in forwards; }
.watering-animation.playing .drop13 { animation: dropFall13 3.0s ease-in forwards; }
.watering-animation.playing .drop14 { animation: dropFall14 2.8s ease-in forwards; }
.watering-animation.playing .drop15 { animation: dropFall15 3.2s ease-in forwards; }

/* 定义多个水滴下落动画变体 */
@keyframes dropFall1 {
  0% { top: -70rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(8rpx); }
  30% { transform: scale(1) translateX(-12rpx); }
  50% { transform: scale(1) translateX(10rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-5rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall2 {
  0% { top: -75rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-10rpx); }
  30% { transform: scale(1) translateX(15rpx); }
  50% { transform: scale(1) translateX(-8rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(5rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall3 {
  0% { top: -40rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(12rpx); }
  30% { transform: scale(1) translateX(-8rpx); }
  50% { transform: scale(1) translateX(5rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-10rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

/* 顶部右上角悬浮浇水按钮 */
.watering-can-float-btn {
  position: fixed;
  top: 100rpx; /* 从20rpx改为100rpx，整体下移 */
  right: 20rpx;
  z-index: 999;
  transition: transform 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100rpx;
}

/* 添加浇水按钮圆圈效果 */
.btn-circle {
  width: 90rpx; /* 稍微缩小一点 */
  height: 90rpx; /* 稍微缩小一点 */
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.9);
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4rpx 10rpx rgba(0, 0, 0, 0.1);
  border: 2rpx solid #4CAF50;
  margin-bottom: 0rpx; /* 减少底部间距 */
}

.watering-can-btn {
  width: 55rpx; /* 调整图标大小 */
  height: 55rpx;
}

/* 添加水壶下方文字样式 */
.watering-can-text {
  font-size: 22rpx; /* 稍微缩小字体 */
  color:rgb(0, 0, 0);
  text-align: center;
  font-weight: bold;
  text-shadow: 0 1rpx 2rpx rgba(255, 255, 255, 0.8);
  position: relative;
  top: 0;
  line-height: 1; /* 减少行高 */
}

/* 顶部进度条悬浮 */
.growth-info-bar-top {
  position: fixed;
  top: 40rpx;
  left: 40rpx;
  width: auto;
  z-index: 100;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}

/* 保留其他原有样式 */
.activity-item {
  margin-bottom: 0;
}

.watering-bg-wrapper {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}
.bg-illustration {
  position: fixed;
  width: 100vw;
  height: 100vh;
  left: 0;
  top: 0;
  z-index: 0;
}
.main-tree {
  position: absolute;
  left: 50%;
  top: 48%;
  transform: translate(-50%, -50%);
  width: 220rpx;
  box-shadow: 0 8rpx 30rpx rgba(0,0,0,0.08);
  border-radius: 20rpx;
  z-index: 2;
}
.watering-action-btn {
  position: fixed;
  right: 40rpx;
  top: 180rpx;
  z-index: 100;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
  border-radius: 50%;
  padding: 24rpx;
  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);
}
.watering-icon {
  width: 80rpx;
  height: 80rpx;
}
.watering-label {
  margin-top: 8rpx;
  color: #fff;
  font-size: 24rpx;
  font-weight: bold;
}
.stage-info-mini {
  display: flex;
  align-items: center;
  gap: 8rpx;
  background: transparent !important;
}
.stage-emoji-mini {
  font-size: 28rpx;
}
.stage-name-mini {
  font-size: 24rpx;
  font-weight: 500;
  color: #333;
}
.progress-container-mini {
  flex: 1;
  margin: 0 20rpx;
  background: transparent !important;
  box-shadow: none !important;
}
.progress-bg-mini {
  width: 180rpx;
  height: 6rpx;
  background: #e0e0e0;
  border-radius: 3rpx;
  overflow: hidden;
  margin-bottom: 5rpx;
}
.progress-fill-mini {
  height: 100%;
  background: linear-gradient(90deg, #4caf50, #66bb6a);
  border-radius: 3rpx;
  transition: width 0.5s ease;
}
.progress-fill-mini.animating {
  animation: progressGlow 1s ease-in-out;
}
@keyframes progressGlow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; box-shadow: 0 0 10rpx #4caf50; }
}
.progress-text-mini {
  font-size: 20rpx;
  color: #666;
  background: transparent !important;
}
.next-stage-mini {
  opacity: 0.6;
  background: transparent !important;
}
.next-emoji-mini {
  font-size: 24rpx;
}
.tree-info-card {
  min-width: 320rpx;
  max-width: 80vw;
  background: linear-gradient(135deg, #fdf6e3 0%, #f5e1b8 100%);
  border-radius: 24rpx;
  box-shadow: 0 6rpx 24rpx rgba(140, 120, 80, 0.12);
  border: 4rpx solid #e0c48d;
  padding: 32rpx 36rpx 24rpx 36rpx;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-family: "KaiTi", "STKaiti", serif;
  position: relative;
}
.tree-info-content {
  width: 100%;
  text-align: center;
}
.tree-info-header {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10rpx;
}
.tree-info-emoji {
  font-size: 40rpx;
  margin-right: 10rpx;
}
.tree-info-title {
  font-size: 32rpx;
  font-weight: bold;
  color: #388e3c;
  letter-spacing: 2rpx;
}
.tree-info-species {
  font-size: 26rpx;
  color: #689f38;
  margin-bottom: 8rpx;
}
.tree-info-desc {
  font-size: 24rpx;
  color: #4e6e4e;
  margin-bottom: 10rpx;
}
.tree-info-id {
  font-size: 22rpx;
  color: #999;
  margin-top: 10rpx;
  display: block;
}
.tree-info-toggle {
  margin-top: 12rpx;
  color: #bfa76a;
  font-size: 24rpx;
  background: #f5e1b8;
  border-radius: 12rpx;
  padding: 8rpx 24rpx;
  border: 2rpx solid #e0c48d;
  cursor: pointer;
}
.tree-info-toggle-collapsed {
  min-width: 180rpx;
  text-align: center;
  color: #bfa76a;
  font-size: 24rpx;
  background: #f5e1b8;
  border-radius: 16rpx;
  padding: 10rpx 30rpx;
  border: 2rpx solid #e0c48d;
  box-shadow: 0 2rpx 8rpx rgba(140, 120, 80, 0.08);
  cursor: pointer;
} 
.tree-info-sidebar {
  position: fixed;
  top: 60%;
  right: 0;
  width: 320rpx;
  max-width: 80vw;
  background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 100%);
  border-radius: 24rpx 0 0 24rpx;
  box-shadow: -4rpx 0 24rpx rgba(76, 175, 80, 0.10);
  border: 4rpx solid #a5d6a7;
  border-right: none;
  padding: 32rpx 24rpx 24rpx 36rpx;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  font-family: "KaiTi", "STKaiti", serif;
  z-index: 20;
  transition: transform 0.4s cubic-bezier(.4,0,.2,1);
  overflow: visible;
}
.tree-info-sidebar.collapsed {
  transform: translateX(90%);
}
.tree-info-sidebar.expanded {
  transform: translateX(0);
}
.tree-info-toggle {
  align-self: flex-end;
  margin-top: 12rpx;
  color: #bfa76a;
  font-size: 24rpx;
  background: #f5e1b8;
  border-radius: 12rpx;
  padding: 8rpx 24rpx;
  border: 2rpx solid #e0c48d;
  cursor: pointer;
} 
.tree-info-expand-btn {
  position: absolute;
  left: -40px;
  top: 50%;
  transform: translateY(-50%);
  z-index: 30;
  box-shadow: -2rpx 0 8rpx rgba(140, 120, 80, 0.08);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  padding: 0;
} 
.tree-image-loading {
  width: 100vw;
  height: 100vh;
  background: #f5f5f5;
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1;
} 
.activity-feed {
  position: fixed;
  left: 0;
  bottom: 0;
  width: 100vw;
  background: #fff;
  border-radius: 32rpx 32rpx 0 0;
  box-shadow: 0 -2rpx 12rpx rgba(0,0,0,0.04);
  padding: 30rpx 20rpx 40rpx 20rpx;
  z-index: 50;
}
.activity-title {
  font-size: 28rpx;
  font-weight: bold;
  color: #333;
  margin-bottom: 18rpx;
}
.activity-list {
  display: flex;
  flex-direction: column;
  gap: 18rpx;
}
.activity-item {
  display: flex;
  align-items: center;
  background: #f8f9fa;
  border-radius: 18rpx;
  padding: 18rpx 20rpx;
}
.activity-avatar {
  width: 56rpx;
  height: 56rpx;
  border-radius: 50%;
  margin-right: 18rpx;
  background: #eee;
}
.activity-content {
  display: flex;
  flex-direction: column;
}
.activity-nickname {
  font-size: 24rpx;
  color: #333;
  font-weight: 500;
}
.activity-action {
  font-size: 22rpx;
  color: #4caf50;
  margin-top: 2rpx;
}
.activity-time {
  font-size: 20rpx;
  color: #aaa;
  margin-top: 2rpx;
}

/* 浇水表单样式 */
.watering-form {
  width: 80%;
  max-width: 600rpx;
  padding: 0;
  overflow: hidden;
  border-radius: 20rpx;
}

.form-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30rpx;
  padding-bottom: 20rpx;
  border-bottom: 1rpx solid #f0f0f0;
}

.form-title {
  font-size: 36rpx;
  font-weight: bold;
}

.form-price {
  font-size: 32rpx;
  color: #f56c6c;
}

/* 表单内容样式 */
.form-body {
  margin-bottom: 30rpx;
}

.form-item {
  margin-bottom: 20rpx;
}

.form-label {
  display: block;
  margin-bottom: 10rpx;
  font-size: 28rpx;
  color: #333;
}

/* 新增：单选框组样式 */
.radio-group {
  display: flex;
  gap: 30rpx;
  margin-top: 10rpx;
}

.radio-item {
  display: flex;
  align-items: center;
  gap: 10rpx;
  cursor: pointer;
}

.radio-item input[type="radio"] {
  width: 32rpx;
  height: 32rpx;
  accent-color: #4CAF50;
}

.radio-text {
  font-size: 28rpx;
  color: #333;
}

.form-info {
  font-size: 24rpx;
  color: #666;
  padding: 15rpx;
  background-color: #f9f9f9;
  border-radius: 20rpx;
  margin-top: 20rpx;
}

.info-text {
  display: block;
  margin-bottom: 5rpx;
  line-height: 1.5;
}

.form-actions {
  display: flex;
  border-top: 1px solid #eee;
}

/* 新增紧凑型按钮容器样式 */
.form-actions-compact {
  display: flex;
  justify-content: center;
  padding: 30rpx 0;
  gap: 40rpx; /* 按钮之间的间距 */
}

.cancel-btn, .pay-btn {
  height: 80rpx;
  line-height: 80rpx;
  text-align: center;
  font-size: 28rpx;
  border-radius: 40rpx;
  width: 180rpx; /* 更窄的按钮 */
}

.cancel-btn {
  background-color: #f5f5f5;
  color: #666;
  border: 1rpx solid #ddd;
}

.pay-btn {
  background-color: #4CAF50;
  color: white;
}

/* 浇水结果弹窗 */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10000;
}

.modal-content {
  width: 80%;
  max-width: 600rpx;
  background-color: white;
  border-radius: 20rpx;
  overflow: hidden;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.15);
}

.result-animation {
  text-align: center;
  padding: 40rpx 0;
  background-color: #4CAF50;
  color: white;
}

.result-emoji {
  font-size: 80rpx;
  display: block;
  margin-bottom: 20rpx;
}

.result-title {
  font-size: 36rpx;
  font-weight: bold;
}

.result-details {
  padding: 30rpx;
}

.detail-item {
  display: block;
  font-size: 28rpx;
  color: #333;
  margin-bottom: 15rpx;
}

.modal-actions {
  display: flex;
  border-top: 1px solid #eee;
}

.continue-btn, .close-btn {
  flex: 1;
  height: 100rpx;
  line-height: 100rpx;
  text-align: center;
  font-size: 32rpx;
  border-radius: 0;
}

.continue-btn {
  background-color: #4CAF50;
  color: white;
}

.close-btn {
  background-color: #f5f5f5;
  color: #666;
}

/* 用户信息展示样式 */
.user-info-section {
  background: white;
  margin: 20rpx;
  border-radius: 16rpx;
  padding: 24rpx;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);
  margin-bottom: 30rpx;
}

.user-profile {
  display: flex;
  align-items: center;
}

.user-avatar {
  width: 80rpx;
  height: 80rpx;
  border-radius: 16rpx;
  margin-right: 20rpx;
  border: 2rpx solid #f0f0f0;
}

.user-details {
  flex: 1;
}

.user-name {
  display: block;
  font-size: 28rpx;
  font-weight: 600;
  color: #1a1a1a;
  margin-bottom: 4rpx;
}

.user-tip {
  display: block;
  font-size: 22rpx;
  color: #999;
}

.auth-btn {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 12rpx;
  padding: 16rpx 24rpx;
  font-size: 24rpx;
  font-weight: 500;
  box-shadow: 0 2rpx 8rpx rgba(102, 126, 234, 0.3);
}

/* 证书相关样式 */
.certificate-modal {
  max-width: 90%;
  max-height: 90%;
}

.certificate-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 30rpx;
  border-bottom: 1rpx solid #eee;
}

.certificate-title {
  font-size: 32rpx;
  font-weight: bold;
  color: #333;
}

.close-certificate {
  width: 60rpx;
  height: 60rpx;
  border-radius: 50%;
  background: #f5f5f5;
  border: none;
  font-size: 32rpx;
  color: #666;
}

.certificate-content {
  padding: 30rpx;
  text-align: center;
}

.certificate-canvas {
  border: 1rpx solid #ddd;
  border-radius: 10rpx;
}

.certificate-actions {
  padding: 30rpx;
  border-top: 1rpx solid #eee;
}

.save-certificate-btn {
  width: 100%;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 10rpx;
  height: 80rpx;
  font-size: 28rpx;
}

/* 水花效果 - 增加多样性 */
.water-splash {
  position: absolute;
  width: 120rpx;
  height: 120rpx;
  left: 50%;
  top: 65%;
  transform: translate(-50%, -50%) translateZ(0);
  background-image: radial-gradient(circle, rgba(30, 144, 255, 0.8) 10%, rgba(30, 144, 255, 0.4) 50%, transparent 70%);
  border-radius: 50%;
  opacity: 0;
  visibility: hidden;
  box-shadow: 0 0 15rpx rgba(30, 144, 255, 0.5);
  will-change: transform, opacity;
  -webkit-transform: translate(-50%, -50%) translateZ(0);
}

.water-splash.active {
  animation: splash 0.8s ease-out forwards;
  visibility: visible;
}

/* 水花动画 - 更自然的效果 */
@keyframes splash {
  0% {
    transform: translate(-50%, -50%) scale(0.2) translateZ(0);
    opacity: 0.8;
  }
  30% {
    opacity: 0.7;
  }
  50% {
    opacity: 0.6;
  }
  100% {
    transform: translate(-50%, -50%) scale(1.5) translateZ(0);
    opacity: 0;
  }
}

/* 不同位置和大小的水花 - 更分散的布局 */
.splash2 {
  left: 25%;
  top: 67%;
  animation-delay: 0.1s;
  width: 100rpx;
  height: 100rpx;
  background-image: radial-gradient(circle, rgba(30, 144, 255, 0.9) 10%, rgba(30, 144, 255, 0.5) 50%, transparent 70%);
}

.splash3 {
  left: 75%;
  top: 66%;
  animation-delay: 0.2s;
  width: 140rpx;
  height: 140rpx;
  background-image: radial-gradient(circle, rgba(30, 144, 255, 0.7) 10%, rgba(30, 144, 255, 0.3) 50%, transparent 70%);
}

.splash4 {
  left: 35%;
  top: 68%;
  animation-delay: 0.15s;
  width: 90rpx;
  height: 90rpx;
  background-image: radial-gradient(circle, rgba(30, 144, 255, 0.85) 10%, rgba(30, 144, 255, 0.45) 50%, transparent 70%);
}

.splash5 {
  left: 65%;
  top: 64%;
  animation-delay: 0.25s;
  width: 110rpx;
  height: 110rpx;
  background-image: radial-gradient(circle, rgba(30, 144, 255, 0.75) 10%, rgba(30, 144, 255, 0.35) 50%, transparent 70%);
}

/* 树木图片样式 */
.tree-fullscreen-wrapper {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  z-index: 10;
  background-color: #fff;
}

.background-mask {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background-color: #fff;
  z-index: 2;
}

/* 页面元素在切换期间的过渡效果 */
.transition-ready {
  position: relative;
  transition: all 0.4s ease-in-out;
}

/* 页面加载状态的平滑过渡 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

.fade-in {
  animation: fadeIn 0.4s ease-in-out;
}

.fade-out {
  animation: fadeOut 0.4s ease-in-out;
}

/* 更多水滴动画变体 */
@keyframes dropFall4 {
  0% { top: -45rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-7rpx); }
  30% { transform: scale(1) translateX(12rpx); }
  50% { transform: scale(1) translateX(-15rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(8rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall5 {
  0% { top: -60rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(15rpx); }
  30% { transform: scale(1) translateX(-10rpx); }
  50% { transform: scale(1) translateX(7rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-12rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall6 {
  0% { top: -60rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-12rpx); }
  30% { transform: scale(1) translateX(7rpx); }
  50% { transform: scale(1) translateX(-15rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(10rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall7 {
  0% { top: -50rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(10rpx); }
  30% { transform: scale(1) translateX(-15rpx); }
  50% { transform: scale(1) translateX(8rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-5rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall8 {
  0% { top: -50rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-8rpx); }
  30% { transform: scale(1) translateX(12rpx); }
  50% { transform: scale(1) translateX(-7rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(15rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

/* 不同水滴的位置和延迟 - 更分散的布局 */
.drop1 { left: 10%; animation-delay: 0.2s; width: 24rpx; height: 36rpx; top: -70rpx; }
.drop2 { left: 85%; animation-delay: 0.5s; width: 30rpx; height: 44rpx; top: -75rpx; }
.drop3 { left: 15%; animation-delay: 0.8s; width: 26rpx; height: 40rpx; top: -40rpx; }
.drop4 { left: 75%; animation-delay: 1.1s; width: 22rpx; height: 34rpx; top: -45rpx; }
.drop5 { left: 25%; animation-delay: 1.4s; width: 28rpx; height: 42rpx; top: -60rpx; }
.drop6 { left: 90%; animation-delay: 0.3s; width: 26rpx; height: 38rpx; top: -60rpx; }
.drop7 { left: 18%; animation-delay: 0.6s; width: 24rpx; height: 36rpx; top: -50rpx; }
.drop8 { left: 80%; animation-delay: 0.9s; width: 30rpx; height: 44rpx; top: -50rpx; }
.drop9 { left: 45%; animation-delay: 1.2s; width: 26rpx; height: 40rpx; top: -55rpx; }
.drop10 { left: 70%; animation-delay: 1.5s; width: 28rpx; height: 42rpx; top: -70rpx; }
.drop11 { left: 30%; animation-delay: 0.4s; width: 22rpx; height: 34rpx; top: -80rpx; }
.drop12 { left: 65%; animation-delay: 0.7s; width: 26rpx; height: 38rpx; top: -40rpx; }
.drop13 { left: 22%; animation-delay: 1.0s; width: 28rpx; height: 42rpx; top: -45rpx; }
.drop14 { left: 60%; animation-delay: 1.3s; width: 24rpx; height: 36rpx; top: -55rpx; }
.drop15 { left: 55%; animation-delay: 1.6s; width: 30rpx; height: 44rpx; top: -65rpx; }

/* 更多水滴动画变体 */
@keyframes dropFall9 {
  0% { top: -55rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(12rpx); }
  30% { transform: scale(1) translateX(-7rpx); }
  50% { transform: scale(1) translateX(15rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-10rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall10 {
  0% { top: -70rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-15rpx); }
  30% { transform: scale(1) translateX(10rpx); }
  50% { transform: scale(1) translateX(-8rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(12rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall11 {
  0% { top: -80rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(7rpx); }
  30% { transform: scale(1) translateX(-12rpx); }
  50% { transform: scale(1) translateX(15rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-7rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall12 {
  0% { top: -40rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-10rpx); }
  30% { transform: scale(1) translateX(15rpx); }
  50% { transform: scale(1) translateX(-12rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(7rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall13 {
  0% { top: -45rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(15rpx); }
  30% { transform: scale(1) translateX(-8rpx); }
  50% { transform: scale(1) translateX(12rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-15rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall14 {
  0% { top: -55rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(-12rpx); }
  30% { transform: scale(1) translateX(8rpx); }
  50% { transform: scale(1) translateX(-15rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(10rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

@keyframes dropFall15 {
  0% { top: -65rpx; opacity: 0; transform: scale(0.8) translateX(0); }
  10% { opacity: 0.9; transform: scale(1) translateX(10rpx); }
  30% { transform: scale(1) translateX(-15rpx); }
  50% { transform: scale(1) translateX(7rpx); }
  70% { opacity: 0.9; transform: scale(1) translateX(-10rpx); }
  100% { top: 65%; opacity: 0; transform: scale(1) translateX(0); }
}

/* 弹窗样式 */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 999999;
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-inner {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 80%;
  background: #fff;
  border-radius: 30rpx;
  padding: 40rpx 30rpx;
  z-index: 1000000;
  box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1);
}

/* 按钮样式 */
.modal-btn {
  flex: 1;
  padding: 20rpx 0;
  font-size: 30rpx;
  border-radius: 40rpx;
  border: none;
  transition: all 0.3s;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 80rpx;
  line-height: 80rpx;
}

.continue-btn {
  margin-right: 10rpx;
  background: #07c160;
  color: #fff;
  border-radius: 40rpx;
}

.close-btn, .cancel-btn {
  margin-left: 10rpx;
  background: #f2f2f2;
  color: #666;
  border-radius: 40rpx;
}

.pay-btn {
  margin-left: 10rpx;
  background: #07c160;
  color: #fff;
  border-radius: 40rpx;
}

/* 表单输入框样式 */
.form-input {
  border: 1px solid #ddd;
  padding: 15rpx 20rpx;
  border-radius: 40rpx;
  width: 100%;
  box-sizing: border-box;
  height: 80rpx;
  font-size: 28rpx;
}

/* 结果动画样式 */
.result-animation {
  text-align: center;
  margin-bottom: 30rpx;
}

.result-emoji {
  font-size: 70rpx;
  display: block;
  margin-bottom: 10rpx;
}

.result-title {
  display: block;
  font-size: 36rpx;
  font-weight: bold;
  margin-top: 10rpx;
}

/* 结果详情样式 */
.result-details {
  margin-bottom: 30rpx;
  padding: 20rpx;
  background: #f8f8f8;
  border-radius: 20rpx;
}

.detail-item {
  display: block;
  margin-bottom: 10rpx;
  font-size: 28rpx;
}

/* 表单操作按钮 */
.form-actions, .modal-actions {
  display: flex;
  justify-content: space-between;
} 

/* 微信支付居中样式 */
.payment-buttons {
  display: flex;
  justify-content: center;
  width: 100%;
}

.payment-buttons .modal-btn {
  flex: 0 0 auto;
  margin: 0 20rpx;
  min-width: 180rpx; /* 减小最小宽度 */
  max-width: 200rpx; /* 增加最大宽度限制 */
}

/* 上拉动态框样式 */
.pull-indicator {
  text-align: center;
  color: #999;
  font-size: 24rpx;
  padding: 10rpx 0;
  position: relative;
}

.pull-indicator::after {
  content: '';
  display: block;
  position: absolute;
  top: 0;
  left: 50%;
  margin-left: -10rpx;
  width: 20rpx;
  height: 20rpx;
  border-left: 2rpx solid #999;
  border-top: 2rpx solid #999;
  transform: rotate(45deg);
  margin-top: -10rpx;
}

/* 祝福语样式 */
.blessing-text {
  color: #FF9800;
  font-weight: bold;
  font-size: 28rpx;
  margin-top: 10rpx;
}

/* 减弱闪白效果 */
.full-screen-mask {
  background-color: rgba(255, 255, 255, 0.7); /* 降低透明度 */
  transition: opacity 0.5s ease; /* 添加过渡效果 */
}

/* 调整浇水按钮样式 */
.watering-can-float-btn {
  position: fixed;
  top: 100rpx; /* 从20rpx改为100rpx，整体下移 */
  right: 20rpx;
  z-index: 999;
  transition: transform 0.3s ease;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100rpx;
} 

/* 新增：小动物举牌子动画样式 */
.animal-gif-animation {
  position: fixed;
  bottom: 250rpx;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000000; /* 确保在结果弹窗上方显示 */
  pointer-events: none; /* 允许点击穿透 */
  animation: fadeIn 0.5s ease-out forwards;
}

/* 特定小动物的放大样式 - 删除 !important 避免冲突 */
.animal-gif-large {
  /* 这里不设置宽高，使用下面的具体类设置 */
}

/* 特定小动物的超大尺寸样式 - 删除 !important 避免冲突 */
.animal-gif-xlarge {
  /* 这里不设置宽高，使用下面的具体类设置 */
}

/* 为不同小动物设置不同尺寸 */
.animal-1, .animal-2, .animal-5, .animal-7 {
  width: 400rpx;
  height: 400rpx;
}

.animal-3, .animal-4, .animal-6, .animal-8 {
  width: 300rpx;
  height: 300rpx;
}

/* 为每个特殊小动物添加单独的位置调整类 */
.animal-1 {
  /* animal_1.gif 的位置调整 */
  top: 0%;
  margin-left: -20rpx; /* 向左偏移 */
}

.animal-2 {
  /* animal_2.gif 的位置调整 */
  top: 0%;
  margin-left: 20rpx; /* 向右偏移 */
}

.animal-3 {
  /* animal_3.gif 的位置调整 */
  top: 0%;
  margin-left: -10rpx; /* 向左偏移 */
}

.animal-4 {
  /* animal_4.gif 的位置调整 */
  top: 0%;
  margin-left: 10rpx; /* 向右偏移 */
}

.animal-5 {
  /* animal_5.gif 的位置调整 */
  top: 0%;
  margin-left: -30rpx; /* 向左偏移 */
}

.animal-6 {
  /* animal_6.gif 的位置调整 */
  top: 0%;
  margin-left: 0rpx;
}

.animal-7 {
  /* animal_7.gif 的位置调整 */
  top: 0%;
  margin-left: 30rpx; /* 向右偏移 */
}

.animal-8 {
  /* animal_8.gif 的位置调整 */
  top: 0%;
  margin-left: 20rpx; /* 向右偏移 */
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translate(-50%, 30rpx);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
} 

/* 小动物举牌子提示文字样式 */
.animal-message {
  position: fixed;
  width: 80%;
  bottom: 750rpx; /* 调整到小动物下方 */
  left: 50%;
  transform: translateX(-50%);
  z-index: 21;
  background-color: rgba(255, 255, 255, 0.8);
  border-radius: 20rpx;
  padding: 10rpx 20rpx;
  text-align: center;
  font-size: 28rpx;
  color: #333;
  box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);
  animation: fadeIn 0.5s ease-out forwards;
} 

/* 浇水结果弹窗样式 */
.watering-result-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999999; /* 确保比页面容器的z-index(99999)更高 */
}

.result-container {
  background-color: white;
  width: 80%;
  max-width: 600rpx;
  border-radius: 20rpx;
  overflow: hidden;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.2);
}

.result-header {
  background-color: #4CAF50;
  color: white;
  padding: 20rpx;
  text-align: center;
}

.result-title {
  font-size: 36rpx;
  font-weight: bold;
}

.result-body {
  padding: 30rpx;
}

.result-icon {
  font-size: 60rpx;
  text-align: center;
  margin-bottom: 20rpx;
}

.result-message {
  text-align: center;
  font-size: 32rpx;
  font-weight: bold;
  color: #333;
  margin-bottom: 30rpx;
}

.result-stats {
  background-color: #f8f8f8;
  border-radius: 10rpx;
  padding: 20rpx;
  margin-bottom: 20rpx;
  display: flex;
  flex-wrap: wrap;
}

.result-stat-item {
  width: 50%;
  padding: 10rpx;
  box-sizing: border-box;
}

.stat-label {
  font-size: 24rpx;
  color: #666;
  display: block;
}

.stat-value {
  font-size: 28rpx;
  color: #4CAF50;
  font-weight: bold;
}

.next-stage-info {
  text-align: center;
  margin: 20rpx 0;
}

.next-stage-text {
  font-size: 26rpx;
  color: #FF9800;
}

.certificate-link {
  background-color: #f0f8ff;
  border: 2rpx solid #2196F3;
  border-radius: 10rpx;
  padding: 20rpx;
  margin-top: 20rpx;
  display: flex;
  align-items: center;
  justify-content: center;
}

.certificate-icon {
  font-size: 40rpx;
  margin-right: 10rpx;
}

.certificate-text {
  color: #2196F3;
  font-size: 28rpx;
  font-weight: bold;
}

.result-footer {
  display: flex;
  border-top: 1rpx solid #eee;
}

.result-btn {
  flex: 1;
  border: none;
  border-radius: 0;
  padding: 20rpx;
  font-size: 30rpx;
}

.result-btn.continue {
  background-color: #4CAF50;
  color: white;
}

.result-btn.close {
  background-color: #f5f5f5;
  color: #666;
}

/* 证书弹窗样式 */
.certificate-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.8);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999; /* 确保在最上层 */
}

.certificate-container {
  background-color: white;
  width: 650rpx;
  max-width: 90%;
  border-radius: 20rpx;
  overflow: hidden;
  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.3);
}

.certificate-header {
  padding: 20rpx;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #4caf50;
  color: white;
}

.certificate-title {
  font-size: 32rpx;
  font-weight: bold;
}

.close-btn {
  font-size: 40rpx;
  width: 60rpx;
  height: 60rpx;
  line-height: 60rpx;
  text-align: center;
}

.certificate-content {
  padding: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f9f9f9;
  width: 100%;
  height: auto;
  overflow: hidden;
}

.certificate-image-container {
  position: relative;
  width: 100%;
  max-width: 600rpx;
}

.certificate-bg {
  width: 100%;
  height: auto;
  display: block;
}

/* 证书编号 */
#cert-number {
  position: absolute;
  top: 25%;
  right: 15%;
  color: #333;
  font-size: 16rpx;
  font-weight: bold;
}

/* 用户名 */
#cert-name {
  position: absolute;
  top: 45%;
  left: 18%;
  color: #333;
  font-size: 16rpx;
  font-weight: bold;
}

/* 日期容器 */
#cert-date {
  position: absolute;
  bottom: 25%; /* 整体上移，从22%调整到30% */
  right: 15%;
  display: flex;
  justify-content: space-around;
  width: 25%;
}
/* 年份 */
#cert-year {
  color: #333;
  font-size: 16rpx; 
  font-weight: bold;
  text-align: center;
  width: 33%;
  transform: translateX(8rpx); /* 年份再往右移一点 */
}
/* 月份 */
#cert-month {
  color: #333;
  font-size: 16rpx;
  font-weight: bold;
  text-align: center;
  width: 33%;
  transform: translateX(12rpx); /* 月份再往右移一点 */
}
/* 日期 */
#cert-day {
  color: #333;
  font-size: 16rpx;
  font-weight: bold;
  text-align: center;
  width: 33%;
  transform: translateX(-12rpx); /* 日期再往左移一点 */
}

/* 证书canvas样式 */
.certificate-content canvas {
  width: 1187px !important;
  height: 830px !important;
  background-color: white;
  transform: scale(0.4);
  transform-origin: top center;
}

.certificate-footer {
  padding: 20rpx;
  border-top: 2rpx solid #f0f0f0;
}

.save-btn {
  background-color: #4caf50;
  color: white;
  font-size: 28rpx;
  width: 100%;
  border-radius: 8rpx;
  padding: 16rpx 0;
} 